{
  "openapi": "3.0.0",
  "paths": {
    "/api": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/refresh": {
      "post": {
        "operationId": "AuthController_refresh",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/logout": {
      "post": {
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/sessions": {
      "get": {
        "operationId": "AuthController_getSessions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SessionInfoDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all active sessions for the current user",
        "tags": [
          "Auth"
        ]
      },
      "delete": {
        "operationId": "AuthController_revokeAllOtherSessions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RevokeAllSessionsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Revoke all sessions except the current one",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/sessions/{sessionId}": {
      "delete": {
        "operationId": "AuthController_revokeSession",
        "parameters": [
          {
            "name": "sessionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RevokeSessionResponseDto"
                }
              }
            }
          }
        },
        "summary": "Revoke a specific session",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/users": {
      "post": {
        "operationId": "UserController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserEntity"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      },
      "get": {
        "operationId": "UserController_findAllUsers",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "continuationToken",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/profile": {
      "get": {
        "operationId": "UserController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserEntity"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      },
      "patch": {
        "operationId": "UserController_updateProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserEntity"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/username/{name}": {
      "get": {
        "operationId": "UserController_getUserByName",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserEntity"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/search": {
      "get": {
        "operationId": "UserController_searchUsers",
        "parameters": [
          {
            "name": "q",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "communityId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserEntity"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/{id}": {
      "get": {
        "operationId": "UserController_getUserById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserEntity"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/admin/list": {
      "get": {
        "operationId": "UserController_findAllUsersAdmin",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "continuationToken",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "banned",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "role",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminUserListResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/admin/{id}": {
      "get": {
        "operationId": "UserController_getUserByIdAdmin",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminUserEntity"
                }
              }
            }
          }
        },
        "summary": "Get a single user with admin-level details",
        "tags": [
          "User"
        ]
      },
      "delete": {
        "operationId": "UserController_deleteUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Delete a user account (admin action)",
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/admin/{id}/role": {
      "patch": {
        "operationId": "UserController_updateUserRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminUserEntity"
                }
              }
            }
          }
        },
        "summary": "Update a user's instance role (OWNER/USER)",
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/admin/{id}/ban": {
      "patch": {
        "operationId": "UserController_setBanStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BanUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminUserEntity"
                }
              }
            }
          }
        },
        "summary": "Ban or unban a user",
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/block/{userId}": {
      "post": {
        "operationId": "UserController_blockUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ]
      },
      "delete": {
        "operationId": "UserController_unblockUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Unblock a user",
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/blocked": {
      "get": {
        "operationId": "UserController_getBlockedUsers",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserEntity"
                  }
                }
              }
            }
          }
        },
        "summary": "Get list of blocked users",
        "tags": [
          "User"
        ]
      }
    },
    "/api/users/blocked/{userId}": {
      "get": {
        "operationId": "UserController_isUserBlocked",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BlockedStatusResponseDto"
                }
              }
            }
          }
        },
        "summary": "Check if a specific user is blocked",
        "tags": [
          "User"
        ]
      }
    },
    "/api/invite": {
      "post": {
        "operationId": "InviteController_createInvite",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInviteDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InviteResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Invite"
        ]
      },
      "get": {
        "operationId": "InviteController_getInvites",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InviteResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Invite"
        ]
      }
    },
    "/api/invite/public/{code}": {
      "get": {
        "operationId": "InviteController_getPublicInvite",
        "parameters": [
          {
            "name": "code",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InviteResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Invite"
        ]
      }
    },
    "/api/invite/{code}": {
      "get": {
        "operationId": "InviteController_getInvite",
        "parameters": [
          {
            "name": "code",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InviteResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Invite"
        ]
      },
      "delete": {
        "operationId": "InviteController_deleteInvite",
        "parameters": [
          {
            "name": "code",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Invite"
        ]
      }
    },
    "/api/roles/my/community/{communityId}": {
      "get": {
        "operationId": "RolesController_getMyRolesForCommunity",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/my/channel/{channelId}": {
      "get": {
        "operationId": "RolesController_getMyRolesForChannel",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/my/instance": {
      "get": {
        "operationId": "RolesController_getMyInstanceRoles",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/user/{userId}/community/{communityId}": {
      "get": {
        "operationId": "RolesController_getUserRolesForCommunity",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/user/{userId}/channel/{channelId}": {
      "get": {
        "operationId": "RolesController_getUserRolesForChannel",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/user/{userId}/instance": {
      "get": {
        "operationId": "RolesController_getUserInstanceRoles",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/community/{communityId}": {
      "get": {
        "operationId": "RolesController_getCommunityRoles",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      },
      "post": {
        "operationId": "RolesController_createCommunityRole",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/community/{communityId}/reset-defaults": {
      "post": {
        "operationId": "RolesController_resetDefaultCommunityRoles",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityRolesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/community/{communityId}/{roleId}": {
      "put": {
        "operationId": "RolesController_updateRole",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      },
      "delete": {
        "operationId": "RolesController_deleteRole",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/community/{communityId}/assign": {
      "post": {
        "operationId": "RolesController_assignRoleToUser",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignRoleDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/community/{communityId}/users/{userId}/roles/{roleId}": {
      "delete": {
        "operationId": "RolesController_removeRoleFromUser",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/community/{communityId}/{roleId}/users": {
      "get": {
        "operationId": "RolesController_getUsersForRole",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleUserDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/instance/all": {
      "get": {
        "operationId": "RolesController_getInstanceRoles",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/instance": {
      "post": {
        "operationId": "RolesController_createInstanceRole",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        },
        "summary": "Create a new instance role",
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/instance/{roleId}": {
      "put": {
        "operationId": "RolesController_updateInstanceRole",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        },
        "summary": "Update an instance role",
        "tags": [
          "Roles"
        ]
      },
      "delete": {
        "operationId": "RolesController_deleteInstanceRole",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Delete an instance role",
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/instance/{roleId}/assign": {
      "post": {
        "operationId": "RolesController_assignInstanceRole",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignInstanceRoleDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Assign an instance role to a user",
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/instance/{roleId}/users/{userId}": {
      "delete": {
        "operationId": "RolesController_removeInstanceRole",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Remove an instance role from a user",
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/roles/instance/{roleId}/users": {
      "get": {
        "operationId": "RolesController_getInstanceRoleUsers",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleUserDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get users assigned to an instance role",
        "tags": [
          "Roles"
        ]
      }
    },
    "/api/channels": {
      "post": {
        "operationId": "ChannelsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChannelDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelDto"
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      }
    },
    "/api/channels/community/{communityId}": {
      "get": {
        "operationId": "ChannelsController_findAllForCommunity",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      }
    },
    "/api/channels/community/{communityId}/mentionable": {
      "get": {
        "operationId": "ChannelsController_getMentionableChannels",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      }
    },
    "/api/channels/{id}": {
      "get": {
        "operationId": "ChannelsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelDto"
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      },
      "patch": {
        "operationId": "ChannelsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChannelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelDto"
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      },
      "delete": {
        "operationId": "ChannelsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Channels"
        ]
      }
    },
    "/api/channels/{id}/move-up": {
      "post": {
        "operationId": "ChannelsController_moveUp",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveChannelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      }
    },
    "/api/channels/{id}/move-down": {
      "post": {
        "operationId": "ChannelsController_moveDown",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveChannelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Channels"
        ]
      }
    },
    "/api/health": {
      "get": {
        "operationId": "HealthController_check",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/api/community": {
      "post": {
        "operationId": "CommunityController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCommunityDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      },
      "get": {
        "operationId": "CommunityController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      }
    },
    "/api/community/mine": {
      "get": {
        "operationId": "CommunityController_findAllMine",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      }
    },
    "/api/community/{id}": {
      "get": {
        "operationId": "CommunityController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      },
      "patch": {
        "operationId": "CommunityController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommunityDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      },
      "delete": {
        "operationId": "CommunityController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      }
    },
    "/api/community/admin/list": {
      "get": {
        "operationId": "CommunityController_findAllWithStats",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "continuationToken",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityStatsListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Community"
        ]
      }
    },
    "/api/community/admin/{id}": {
      "get": {
        "operationId": "CommunityController_findOneWithStats",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityStatsDetailDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get a single community with detailed stats for admin",
        "tags": [
          "Community"
        ]
      },
      "delete": {
        "operationId": "CommunityController_forceRemove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Force delete a community (admin action - bypasses ownership check)",
        "tags": [
          "Community"
        ]
      }
    },
    "/api/messages": {
      "post": {
        "operationId": "MessagesController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnrichedMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/group/{groupId}": {
      "get": {
        "operationId": "MessagesController_findAllForGroup",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "continuationToken",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMessagesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/channel/{channelId}": {
      "get": {
        "operationId": "MessagesController_findAllForChannel",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "continuationToken",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMessagesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/search/channel/{channelId}": {
      "get": {
        "operationId": "MessagesController_searchChannelMessages",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "q",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EnrichedMessageDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/search/group/{groupId}": {
      "get": {
        "operationId": "MessagesController_searchDirectMessages",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "q",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EnrichedMessageDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/search/community/{communityId}": {
      "get": {
        "operationId": "MessagesController_searchCommunityMessages",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "q",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EnrichedMessageDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/reactions": {
      "post": {
        "operationId": "MessagesController_addReaction",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddReactionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      },
      "delete": {
        "operationId": "MessagesController_removeReaction",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveReactionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/{id}/attachments": {
      "post": {
        "operationId": "MessagesController_addAttachment",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddAttachmentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnrichedMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/messages/{id}": {
      "get": {
        "operationId": "MessagesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnrichedMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      },
      "patch": {
        "operationId": "MessagesController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnrichedMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Messages"
        ]
      },
      "delete": {
        "operationId": "MessagesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Messages"
        ]
      }
    },
    "/api/file/{id}/metadata": {
      "get": {
        "operationId": "FileController_getFileMetadata",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileMetadataResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "File"
        ]
      }
    },
    "/api/file/{id}": {
      "get": {
        "operationId": "FileController_getFile",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "File"
        ]
      }
    },
    "/api/membership": {
      "post": {
        "operationId": "MembershipController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMembershipDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MembershipResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/membership/community/{communityId}": {
      "get": {
        "operationId": "MembershipController_findAllForCommunity",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/membership/community/{communityId}/search": {
      "get": {
        "operationId": "MembershipController_searchCommunityMembers",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "query",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/membership/user/{userId}": {
      "get": {
        "operationId": "MembershipController_findAllForUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/membership/my": {
      "get": {
        "operationId": "MembershipController_findMyMemberships",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/membership/community/{communityId}/user/{userId}": {
      "get": {
        "operationId": "MembershipController_findOne",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MembershipResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Membership"
        ]
      },
      "delete": {
        "operationId": "MembershipController_remove",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/membership/leave/{communityId}": {
      "delete": {
        "operationId": "MembershipController_leaveCommunity",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "Membership"
        ]
      }
    },
    "/api/channel-membership": {
      "post": {
        "operationId": "ChannelMembershipController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChannelMembershipDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelMembershipResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      }
    },
    "/api/channel-membership/channel/{channelId}": {
      "get": {
        "operationId": "ChannelMembershipController_findAllForChannel",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelMembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      }
    },
    "/api/channel-membership/user/{userId}": {
      "get": {
        "operationId": "ChannelMembershipController_findAllForUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelMembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      }
    },
    "/api/channel-membership/my": {
      "get": {
        "operationId": "ChannelMembershipController_findMyChannelMemberships",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChannelMembershipResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      }
    },
    "/api/channel-membership/channel/{channelId}/user/{userId}": {
      "get": {
        "operationId": "ChannelMembershipController_findOne",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelMembershipResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      },
      "delete": {
        "operationId": "ChannelMembershipController_remove",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      }
    },
    "/api/channel-membership/leave/{channelId}": {
      "delete": {
        "operationId": "ChannelMembershipController_leaveChannel",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "ChannelMembership"
        ]
      }
    },
    "/api/notifications": {
      "get": {
        "operationId": "NotificationsController_getNotifications",
        "parameters": [
          {
            "name": "unreadOnly",
            "required": false,
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "minimum": 1,
              "default": 50,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "schema": {
              "minimum": 0,
              "default": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationListResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get notifications for current user with pagination\nGET /notifications?unreadOnly=true&limit=50&offset=0",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/unread-count": {
      "get": {
        "operationId": "NotificationsController_getUnreadCount",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnreadCountResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get unread notification count\nGET /notifications/unread-count",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/{id}/read": {
      "post": {
        "operationId": "NotificationsController_markAsRead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          }
        },
        "summary": "Mark a notification as read\nPOST /notifications/:id/read",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/read-all": {
      "post": {
        "operationId": "NotificationsController_markAllAsRead",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnreadCountResponseDto"
                }
              }
            }
          }
        },
        "summary": "Mark all notifications as read\nPOST /notifications/read-all",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/{id}/dismiss": {
      "post": {
        "operationId": "NotificationsController_dismissNotification",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          }
        },
        "summary": "Dismiss a notification\nPOST /notifications/:id/dismiss",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/{id}": {
      "delete": {
        "operationId": "NotificationsController_deleteNotification",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Delete a notification\nDELETE /notifications/:id",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/settings": {
      "get": {
        "operationId": "NotificationsController_getSettings",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserNotificationSettingsDto"
                }
              }
            }
          }
        },
        "summary": "Get user notification settings\nGET /notifications/settings",
        "tags": [
          "Notifications"
        ]
      },
      "put": {
        "operationId": "NotificationsController_updateSettings",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNotificationSettingsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserNotificationSettingsDto"
                }
              }
            }
          }
        },
        "summary": "Update user notification settings\nPUT /notifications/settings",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/channels/{channelId}/override": {
      "get": {
        "operationId": "NotificationsController_getChannelOverride",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelNotificationOverrideDto"
                }
              }
            }
          }
        },
        "summary": "Get channel notification override\nGET /notifications/channels/:channelId/override",
        "tags": [
          "Notifications"
        ]
      },
      "put": {
        "operationId": "NotificationsController_setChannelOverride",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChannelOverrideDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelNotificationOverrideDto"
                }
              }
            }
          }
        },
        "summary": "Set channel notification override\nPUT /notifications/channels/:channelId/override",
        "tags": [
          "Notifications"
        ]
      },
      "delete": {
        "operationId": "NotificationsController_deleteChannelOverride",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Delete channel notification override\nDELETE /notifications/channels/:channelId/override",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/debug/send-test": {
      "post": {
        "operationId": "NotificationsController_sendTestNotification",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendTestNotificationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DebugNotificationResponseDto"
                }
              }
            }
          }
        },
        "summary": "DEBUG: Send a test notification to the current user\nPOST /notifications/debug/send-test\nOnly available to OWNER users",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/debug/subscriptions": {
      "get": {
        "operationId": "NotificationsController_getDebugSubscriptions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DebugSubscriptionsResponseDto"
                }
              }
            }
          }
        },
        "summary": "DEBUG: Get all push subscriptions for current user\nGET /notifications/debug/subscriptions\nOnly available to OWNER users",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/notifications/debug/clear-all": {
      "delete": {
        "operationId": "NotificationsController_clearDebugSettings",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearNotificationDataResponseDto"
                }
              }
            }
          }
        },
        "summary": "DEBUG: Clear all notification settings for current user\nDELETE /notifications/debug/clear-all\nOnly available to OWNER users",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/push/vapid-public-key": {
      "get": {
        "operationId": "PushNotificationsController_getVapidPublicKey",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VapidPublicKeyResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get the VAPID public key for client subscription\nReturns null if push notifications are not configured",
        "tags": [
          "PushNotifications"
        ]
      }
    },
    "/api/push/subscribe": {
      "post": {
        "operationId": "PushNotificationsController_subscribe",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubscribePushDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "summary": "Subscribe to push notifications",
        "tags": [
          "PushNotifications"
        ]
      }
    },
    "/api/push/unsubscribe": {
      "delete": {
        "operationId": "PushNotificationsController_unsubscribe",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnsubscribePushDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "summary": "Unsubscribe from push notifications",
        "tags": [
          "PushNotifications"
        ]
      }
    },
    "/api/push/status": {
      "get": {
        "operationId": "PushNotificationsController_getStatus",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PushStatusResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get current push subscription status",
        "tags": [
          "PushNotifications"
        ]
      }
    },
    "/api/push/test": {
      "post": {
        "operationId": "PushNotificationsController_sendTestPushToSelf",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestPushResponseDto"
                }
              }
            }
          }
        },
        "summary": "Send a test push notification to the current user\nPOST /push/test\nAny authenticated user can test their own push notifications",
        "tags": [
          "PushNotifications"
        ]
      }
    },
    "/api/push/debug/send-test": {
      "post": {
        "operationId": "PushNotificationsController_sendTestPush",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestPushResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "PushNotifications"
        ]
      }
    },
    "/api/moderation/ban/{communityId}/{userId}": {
      "post": {
        "operationId": "ModerationController_banUser",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BanUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      },
      "delete": {
        "operationId": "ModerationController_unbanUser",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnbanUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/bans/{communityId}": {
      "get": {
        "operationId": "ModerationController_getBanList",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityBanDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/kick/{communityId}/{userId}": {
      "post": {
        "operationId": "ModerationController_kickUser",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KickUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/timeout/{communityId}/{userId}": {
      "post": {
        "operationId": "ModerationController_timeoutUser",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimeoutUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      },
      "delete": {
        "operationId": "ModerationController_removeTimeout",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveTimeoutDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/timeouts/{communityId}": {
      "get": {
        "operationId": "ModerationController_getTimeoutList",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityTimeoutDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/timeout-status/{communityId}/{userId}": {
      "get": {
        "operationId": "ModerationController_getTimeoutStatus",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeoutStatusResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/pin/{messageId}": {
      "post": {
        "operationId": "ModerationController_pinMessage",
        "parameters": [
          {
            "name": "messageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PinMessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      },
      "delete": {
        "operationId": "ModerationController_unpinMessage",
        "parameters": [
          {
            "name": "messageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnpinMessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/pins/{channelId}": {
      "get": {
        "operationId": "ModerationController_getPinnedMessages",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PinnedMessageDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/message/{messageId}": {
      "delete": {
        "operationId": "ModerationController_deleteMessageAsMod",
        "parameters": [
          {
            "name": "messageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteMessageAsModDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessMessageDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/moderation/logs/{communityId}": {
      "get": {
        "operationId": "ModerationController_getModerationLogs",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "action",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModerationLogsResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Moderation"
        ]
      }
    },
    "/api/read-receipts/mark-read": {
      "post": {
        "operationId": "ReadReceiptsController_markAsRead",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MarkAsReadDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadReceiptDto"
                }
              }
            }
          }
        },
        "summary": "Mark messages as read up to a specific message\nPOST /read-receipts/mark-read",
        "tags": [
          "ReadReceipts"
        ]
      }
    },
    "/api/read-receipts/unread-counts": {
      "get": {
        "operationId": "ReadReceiptsController_getUnreadCounts",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UnreadCountDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all unread counts for the current user\nGET /read-receipts/unread-counts",
        "tags": [
          "ReadReceipts"
        ]
      }
    },
    "/api/read-receipts/unread-count": {
      "get": {
        "operationId": "ReadReceiptsController_getUnreadCount",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "directMessageGroupId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnreadCountDto"
                }
              }
            }
          }
        },
        "summary": "Get unread count for a specific channel or DM group\nGET /read-receipts/unread-count?channelId=xxx or ?directMessageGroupId=xxx",
        "tags": [
          "ReadReceipts"
        ]
      }
    },
    "/api/read-receipts/last-read": {
      "get": {
        "operationId": "ReadReceiptsController_getLastReadMessageId",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "directMessageGroupId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LastReadResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get the last read message ID for a specific channel or DM group\nGET /read-receipts/last-read?channelId=xxx or ?directMessageGroupId=xxx",
        "tags": [
          "ReadReceipts"
        ]
      }
    },
    "/api/read-receipts/message/{messageId}/readers": {
      "get": {
        "operationId": "ReadReceiptsController_getMessageReaders",
        "parameters": [
          {
            "name": "messageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "channelId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "directMessageGroupId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageReaderDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all users who have read a specific message\nGET /read-receipts/message/:messageId/readers?channelId=xxx or ?directMessageGroupId=xxx",
        "tags": [
          "ReadReceipts"
        ]
      }
    },
    "/api/presence/user/{userId}": {
      "get": {
        "operationId": "PresenceController_getUserPresence",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Presence"
        ]
      }
    },
    "/api/presence/users/bulk": {
      "get": {
        "operationId": "PresenceController_getBulkPresence",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Presence"
        ]
      }
    },
    "/api/presence/users/{userIds}": {
      "get": {
        "operationId": "PresenceController_getMultipleUserPresence",
        "parameters": [
          {
            "name": "userIds",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Presence"
        ]
      }
    },
    "/api/livekit/token": {
      "post": {
        "operationId": "LivekitController_generateToken",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTokenDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/dm-token": {
      "post": {
        "operationId": "LivekitController_generateDmToken",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTokenDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/connection-info": {
      "get": {
        "operationId": "LivekitController_getConnectionInfo",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionInfoResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/health": {
      "get": {
        "operationId": "LivekitController_validateConfiguration",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LivekitHealthResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/start": {
      "post": {
        "operationId": "LivekitController_startReplayBuffer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartReplayBufferDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StartReplayResponseDto"
                }
              }
            }
          }
        },
        "summary": "Start replay buffer egress for screen share",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/stop": {
      "post": {
        "operationId": "LivekitController_stopReplayBuffer",
        "parameters": [],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StopReplayResponseDto"
                }
              }
            }
          }
        },
        "summary": "Stop replay buffer egress for current user",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/stream": {
      "get": {
        "operationId": "LivekitController_streamReplay",
        "parameters": [
          {
            "name": "durationMinutes",
            "required": true,
            "in": "query",
            "description": "Duration preset in minutes\nUser selects from: 1, 2, 5, or 10 minutes",
            "schema": {
              "minimum": 1,
              "maximum": 10,
              "type": "number",
              "enum": [
                1,
                2,
                5,
                10
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Stream a replay clip directly (download-only, no persistence)\nCreates a temporary file, streams it, and deletes it after streaming completes",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/session-info": {
      "get": {
        "operationId": "LivekitController_getSessionInfo",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionInfoResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get session info for active replay buffer (for trim UI)",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/preview/playlist.m3u8": {
      "get": {
        "operationId": "LivekitController_getPreviewPlaylist",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Serve HLS playlist (m3u8) for preview\nReturns the playlist file for the user's active session",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/preview/segment/{segmentFile}": {
      "get": {
        "operationId": "LivekitController_getPreviewSegment",
        "parameters": [
          {
            "name": "segmentFile",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Serve individual HLS segment (.ts file) for preview\nSegments are remuxed on-the-fly to standard MPEG-TS format\nfor HLS.js compatibility (LiveKit egress creates HDMV-style TS)",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/replay/capture": {
      "post": {
        "operationId": "LivekitController_captureReplay",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptureReplayDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptureReplayResponseDto"
                }
              }
            }
          }
        },
        "summary": "Capture a replay clip from the buffer and post to channel or DM\nRate limited: 3 per minute, 15 per hour to prevent abuse",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/clips": {
      "get": {
        "operationId": "LivekitController_getMyClips",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClipResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get current user's clip library",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/clips/user/{userId}": {
      "get": {
        "operationId": "LivekitController_getUserPublicClips",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClipResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get public clips for a specific user (for profile viewing)",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/clips/{clipId}": {
      "put": {
        "operationId": "LivekitController_updateClip",
        "parameters": [
          {
            "name": "clipId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClipDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClipResponseDto"
                }
              }
            }
          }
        },
        "summary": "Update a clip (e.g., toggle public visibility)",
        "tags": [
          "Livekit"
        ]
      },
      "delete": {
        "operationId": "LivekitController_deleteClip",
        "parameters": [
          {
            "name": "clipId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Delete a clip from user's library",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/clips/{clipId}/share": {
      "post": {
        "operationId": "LivekitController_shareClip",
        "parameters": [
          {
            "name": "clipId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShareClipDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareClipResponseDto"
                }
              }
            }
          }
        },
        "summary": "Share an existing clip to a channel or DM",
        "tags": [
          "Livekit"
        ]
      }
    },
    "/api/livekit/webhook": {
      "post": {
        "operationId": "LivekitWebhookController_handleWebhook",
        "parameters": [
          {
            "name": "authorization",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LiveKitWebhookDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Handle LiveKit webhook events\n\nVerifies webhook signature and processes egress_ended events",
        "tags": [
          "LivekitWebhook"
        ]
      }
    },
    "/api/channels/{channelId}/voice-presence": {
      "get": {
        "operationId": "VoicePresenceController_getChannelPresence",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelVoicePresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "VoicePresence"
        ]
      }
    },
    "/api/channels/{channelId}/voice-presence/refresh": {
      "post": {
        "operationId": "VoicePresenceController_refreshPresence",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "VoicePresence"
        ]
      }
    },
    "/api/channels/{channelId}/voice-presence/join": {
      "post": {
        "operationId": "VoicePresenceController_joinPresence",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "VoicePresence"
        ]
      }
    },
    "/api/channels/{channelId}/voice-presence/leave": {
      "post": {
        "operationId": "VoicePresenceController_leavePresence",
        "parameters": [
          {
            "name": "channelId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "VoicePresence"
        ]
      }
    },
    "/api/voice-presence/me": {
      "get": {
        "operationId": "UserVoicePresenceController_getMyVoiceChannels",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserVoiceChannelsResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "UserVoicePresence"
        ]
      }
    },
    "/api/dm-groups/{dmGroupId}/voice-presence": {
      "get": {
        "operationId": "DmVoicePresenceController_getDmPresence",
        "parameters": [
          {
            "name": "dmGroupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DmVoicePresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "DmVoicePresence"
        ]
      }
    },
    "/api/dm-groups/{dmGroupId}/voice-presence/refresh": {
      "post": {
        "operationId": "DmVoicePresenceController_refreshDmPresence",
        "parameters": [
          {
            "name": "dmGroupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshDmPresenceResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "DmVoicePresence"
        ]
      }
    },
    "/api/onboarding/status": {
      "get": {
        "operationId": "OnboardingController_getStatus",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OnboardingStatusDto"
                }
              }
            }
          }
        },
        "tags": [
          "Onboarding"
        ]
      }
    },
    "/api/onboarding/setup": {
      "post": {
        "operationId": "OnboardingController_setupInstance",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetupInstanceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "Onboarding"
        ]
      }
    },
    "/api/direct-messages": {
      "get": {
        "operationId": "DirectMessagesController_findUserDmGroups",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DmGroupResponseDto"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "DirectMessages"
        ]
      },
      "post": {
        "operationId": "DirectMessagesController_createDmGroup",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDmGroupDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DmGroupResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "DirectMessages"
        ]
      }
    },
    "/api/direct-messages/{id}": {
      "get": {
        "operationId": "DirectMessagesController_findDmGroup",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DmGroupResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "DirectMessages"
        ]
      }
    },
    "/api/direct-messages/{id}/messages": {
      "get": {
        "operationId": "DirectMessagesController_getDmMessages",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMessagesResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "DirectMessages"
        ]
      }
    },
    "/api/direct-messages/{id}/members": {
      "post": {
        "operationId": "DirectMessagesController_addMembers",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMembersDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DmGroupResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "DirectMessages"
        ]
      }
    },
    "/api/direct-messages/{id}/members/me": {
      "delete": {
        "operationId": "DirectMessagesController_leaveDmGroup",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "tags": [
          "DirectMessages"
        ]
      }
    },
    "/api/file-upload": {
      "post": {
        "operationId": "FileUploadController_uploadFile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFileUploadDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileUploadResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "FileUpload"
        ]
      }
    },
    "/api/file-upload/{id}": {
      "delete": {
        "operationId": "FileUploadController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileUploadResponseDto"
                }
              }
            }
          }
        },
        "tags": [
          "FileUpload"
        ]
      }
    },
    "/api/storage/my-usage": {
      "get": {
        "operationId": "StorageQuotaController_getMyStorageStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStorageStatsDto"
                }
              }
            }
          }
        },
        "summary": "Get current user's storage stats (for user settings)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/storage/instance": {
      "get": {
        "operationId": "StorageQuotaController_getInstanceStorageStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceStorageStatsDto"
                }
              }
            }
          }
        },
        "summary": "Get instance-wide storage statistics (admin only)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/storage/users": {
      "get": {
        "operationId": "StorageQuotaController_getUsersStorageList",
        "parameters": [
          {
            "name": "skip",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "take",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "minPercentUsed",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStorageListResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get users list with storage usage (admin only, for storage management page)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/storage/users/{userId}": {
      "get": {
        "operationId": "StorageQuotaController_getUserStorageStats",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStorageStatsDto"
                }
              }
            }
          }
        },
        "summary": "Get specific user's storage stats (admin only)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/storage/users/{userId}/quota": {
      "patch": {
        "operationId": "StorageQuotaController_updateUserQuota",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserQuotaDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStorageStatsDto"
                }
              }
            }
          }
        },
        "summary": "Update user's storage quota (admin only)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/storage/users/{userId}/recalculate": {
      "post": {
        "operationId": "StorageQuotaController_recalculateUserStorage",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStorageStatsDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStorageStatsDto"
                }
              }
            }
          }
        },
        "summary": "Recalculate user's storage usage (admin only)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/storage/settings": {
      "patch": {
        "operationId": "StorageQuotaController_updateStorageSettings",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStorageSettingsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Update instance storage settings (admin only)",
        "tags": [
          "StorageQuota"
        ]
      }
    },
    "/api/instance/settings/public": {
      "get": {
        "operationId": "InstanceController_getPublicSettings",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PublicSettingsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get instance settings (public - needed for registration mode)",
        "tags": [
          "Instance"
        ]
      }
    },
    "/api/instance/settings": {
      "get": {
        "operationId": "InstanceController_getSettings",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceSettingsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get full instance settings (admin only)",
        "tags": [
          "Instance"
        ]
      },
      "patch": {
        "operationId": "InstanceController_updateSettings",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateInstanceSettingsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceSettingsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Update instance settings (admin only)",
        "tags": [
          "Instance"
        ]
      }
    },
    "/api/instance/stats": {
      "get": {
        "operationId": "InstanceController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceStatsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get instance statistics (admin only)",
        "tags": [
          "Instance"
        ]
      }
    },
    "/api/appearance-settings": {
      "get": {
        "operationId": "AppearanceSettingsController_getSettings",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppearanceSettingsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get current user's appearance settings",
        "tags": [
          "AppearanceSettings"
        ]
      },
      "patch": {
        "operationId": "AppearanceSettingsController_updateSettings",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAppearanceSettingsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppearanceSettingsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Update current user's appearance settings",
        "tags": [
          "AppearanceSettings"
        ]
      }
    },
    "/api/friends": {
      "get": {
        "operationId": "FriendsController_getFriends",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserEntity"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all friends for the current user",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/requests": {
      "get": {
        "operationId": "FriendsController_getPendingRequests",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingRequestsDto"
                }
              }
            }
          }
        },
        "summary": "Get pending friend requests (sent and received)",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/status/{userId}": {
      "get": {
        "operationId": "FriendsController_getFriendshipStatus",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FriendshipStatusDto"
                }
              }
            }
          }
        },
        "summary": "Get friendship status with a specific user",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/request/{userId}": {
      "post": {
        "operationId": "FriendsController_sendFriendRequest",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FriendshipDto"
                }
              }
            }
          }
        },
        "summary": "Send a friend request to a user",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/accept/{id}": {
      "post": {
        "operationId": "FriendsController_acceptFriendRequest",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FriendshipDto"
                }
              }
            }
          }
        },
        "summary": "Accept a friend request",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/decline/{id}": {
      "delete": {
        "operationId": "FriendsController_declineFriendRequest",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Decline a friend request",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/cancel/{id}": {
      "delete": {
        "operationId": "FriendsController_cancelFriendRequest",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Cancel a sent friend request",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/friends/{id}": {
      "delete": {
        "operationId": "FriendsController_removeFriend",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "Remove a friend (unfriend)",
        "tags": [
          "Friends"
        ]
      }
    },
    "/api/threads/{parentMessageId}/replies": {
      "post": {
        "operationId": "ThreadsController_createReply",
        "parameters": [
          {
            "name": "parentMessageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadReplyDto"
                }
              }
            }
          }
        },
        "summary": "Create a reply in a thread.\nPermission check: Uses message resource type to verify access to parent message context.",
        "tags": [
          "Threads"
        ]
      },
      "get": {
        "operationId": "ThreadsController_getReplies",
        "parameters": [
          {
            "name": "parentMessageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "continuationToken",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadRepliesResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get paginated replies for a thread.",
        "tags": [
          "Threads"
        ]
      }
    },
    "/api/threads/{parentMessageId}/metadata": {
      "get": {
        "operationId": "ThreadsController_getMetadata",
        "parameters": [
          {
            "name": "parentMessageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadMetadataDto"
                }
              }
            }
          }
        },
        "summary": "Get thread metadata (reply count, subscription status).",
        "tags": [
          "Threads"
        ]
      }
    },
    "/api/threads/{parentMessageId}/subscribe": {
      "post": {
        "operationId": "ThreadsController_subscribe",
        "parameters": [
          {
            "name": "parentMessageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Subscribe to a thread.",
        "tags": [
          "Threads"
        ]
      },
      "delete": {
        "operationId": "ThreadsController_unsubscribe",
        "parameters": [
          {
            "name": "parentMessageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Unsubscribe from a thread.",
        "tags": [
          "Threads"
        ]
      }
    },
    "/api/alias-groups/community/{communityId}": {
      "get": {
        "operationId": "AliasGroupsController_getCommunityAliasGroups",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AliasGroupSummaryDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all alias groups for a community",
        "tags": [
          "AliasGroups"
        ]
      },
      "post": {
        "operationId": "AliasGroupsController_createAliasGroup",
        "parameters": [
          {
            "name": "communityId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAliasGroupDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AliasGroupWithMembersDto"
                }
              }
            }
          }
        },
        "summary": "Create a new alias group",
        "tags": [
          "AliasGroups"
        ]
      }
    },
    "/api/alias-groups/{groupId}": {
      "get": {
        "operationId": "AliasGroupsController_getAliasGroup",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AliasGroupWithMembersDto"
                }
              }
            }
          }
        },
        "summary": "Get a single alias group with full member details",
        "tags": [
          "AliasGroups"
        ]
      },
      "put": {
        "operationId": "AliasGroupsController_updateAliasGroup",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAliasGroupDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AliasGroupWithMembersDto"
                }
              }
            }
          }
        },
        "summary": "Update an alias group's name",
        "tags": [
          "AliasGroups"
        ]
      },
      "delete": {
        "operationId": "AliasGroupsController_deleteAliasGroup",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Delete an alias group",
        "tags": [
          "AliasGroups"
        ]
      }
    },
    "/api/alias-groups/{groupId}/members": {
      "post": {
        "operationId": "AliasGroupsController_addMember",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMemberDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Add a member to an alias group",
        "tags": [
          "AliasGroups"
        ]
      },
      "put": {
        "operationId": "AliasGroupsController_updateMembers",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMembersDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Replace all members of an alias group",
        "tags": [
          "AliasGroups"
        ]
      }
    },
    "/api/alias-groups/{groupId}/members/{userId}": {
      "delete": {
        "operationId": "AliasGroupsController_removeMember",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Remove a member from an alias group",
        "tags": [
          "AliasGroups"
        ]
      }
    }
  },
  "info": {
    "title": "Kraken API",
    "description": "Kraken Chat Application API",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "LoginRequestDto": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "username",
          "password"
        ]
      },
      "LoginResponseDto": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string"
          },
          "refreshToken": {
            "type": "string"
          }
        },
        "required": [
          "accessToken"
        ]
      },
      "RefreshRequestDto": {
        "type": "object",
        "properties": {
          "refreshToken": {
            "type": "string"
          }
        }
      },
      "LogoutResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        },
        "required": [
          "message"
        ]
      },
      "SessionInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "deviceName": {
            "type": "string"
          },
          "ipAddress": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "lastUsedAt": {
            "format": "date-time",
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          },
          "isCurrent": {
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "deviceName",
          "ipAddress",
          "createdAt",
          "lastUsedAt",
          "expiresAt",
          "isCurrent"
        ]
      },
      "RevokeSessionResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        },
        "required": [
          "message"
        ]
      },
      "RevokeAllSessionsResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "revokedCount": {
            "type": "number"
          }
        },
        "required": [
          "message",
          "revokedCount"
        ]
      },
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "username": {
            "type": "string",
            "minLength": 2,
            "maxLength": 32
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "maxLength": 128
          },
          "email": {
            "type": "string",
            "format": "email"
          }
        },
        "required": [
          "code",
          "username",
          "password"
        ]
      },
      "UserEntity": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "OWNER",
              "USER"
            ]
          },
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "bannerUrl": {
            "type": "string",
            "nullable": true
          },
          "lastSeen": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "bio": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "role",
          "id",
          "username",
          "avatarUrl",
          "bannerUrl",
          "lastSeen",
          "displayName",
          "bio",
          "status"
        ]
      },
      "UpdateProfileDto": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": "string",
            "minLength": 1,
            "maxLength": 32
          },
          "avatar": {
            "type": "string"
          },
          "banner": {
            "type": "string"
          },
          "bio": {
            "type": "string",
            "maxLength": 500
          },
          "status": {
            "type": "string",
            "maxLength": 128
          }
        }
      },
      "UserListResponseDto": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserEntity"
            }
          },
          "continuationToken": {
            "type": "string"
          }
        },
        "required": [
          "users"
        ]
      },
      "AdminUserEntity": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "OWNER",
              "USER"
            ]
          },
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "verified": {
            "type": "boolean"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "bannerUrl": {
            "type": "string",
            "nullable": true
          },
          "lastSeen": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "bio": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "statusUpdatedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "banned": {
            "type": "boolean"
          },
          "bannedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "bannedById": {
            "type": "string",
            "nullable": true
          },
          "storageQuotaBytes": {
            "format": "int64",
            "type": "integer"
          },
          "storageUsedBytes": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "role",
          "id",
          "username",
          "email",
          "verified",
          "createdAt",
          "avatarUrl",
          "bannerUrl",
          "lastSeen",
          "displayName",
          "bio",
          "status",
          "statusUpdatedAt",
          "banned",
          "bannedAt",
          "bannedById",
          "storageQuotaBytes",
          "storageUsedBytes"
        ]
      },
      "AdminUserListResponseDto": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AdminUserEntity"
            }
          },
          "continuationToken": {
            "type": "string"
          }
        },
        "required": [
          "users"
        ]
      },
      "UpdateUserRoleDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "OWNER",
              "USER"
            ]
          }
        },
        "required": [
          "role"
        ]
      },
      "BanUserDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          },
          "expiresAt": {
            "type": "string"
          }
        }
      },
      "SuccessResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        },
        "required": [
          "success"
        ]
      },
      "BlockedStatusResponseDto": {
        "type": "object",
        "properties": {
          "blocked": {
            "type": "boolean"
          }
        },
        "required": [
          "blocked"
        ]
      },
      "CreateInviteDto": {
        "type": "object",
        "properties": {
          "maxUses": {
            "type": "number",
            "minimum": 1
          },
          "validUntil": {
            "format": "date-time",
            "type": "string"
          },
          "communityIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "communityIds"
        ]
      },
      "InviteCreatorDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "username",
          "displayName"
        ]
      },
      "InviteResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "createdById": {
            "type": "string",
            "nullable": true
          },
          "defaultCommunityId": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "maxUses": {
            "type": "number",
            "nullable": true
          },
          "uses": {
            "type": "number"
          },
          "validUntil": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "usedByIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "disabled": {
            "type": "boolean"
          },
          "createdBy": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/InviteCreatorDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "code",
          "createdById",
          "defaultCommunityId",
          "maxUses",
          "uses",
          "validUntil",
          "createdAt",
          "usedByIds",
          "disabled"
        ]
      },
      "RoleDto": {
        "type": "object",
        "properties": {
          "actions": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "DELETE_MESSAGE",
                "DELETE_CHANNEL",
                "DELETE_COMMUNITY",
                "DELETE_INVITE",
                "DELETE_USER",
                "DELETE_ROLE",
                "DELETE_ALIAS_GROUP",
                "DELETE_ALIAS_GROUP_MEMBER",
                "DELETE_INSTANCE_INVITE",
                "DELETE_MEMBER",
                "DELETE_REACTION",
                "CREATE_MESSAGE",
                "CREATE_CHANNEL",
                "CREATE_COMMUNITY",
                "CREATE_INVITE",
                "CREATE_USER",
                "CREATE_ROLE",
                "CREATE_ALIAS_GROUP",
                "CREATE_ALIAS_GROUP_MEMBER",
                "CREATE_INSTANCE_INVITE",
                "CREATE_MEMBER",
                "CREATE_REACTION",
                "JOIN_CHANNEL",
                "READ_MESSAGE",
                "READ_CHANNEL",
                "READ_COMMUNITY",
                "READ_ALL_COMMUNITIES",
                "READ_USER",
                "READ_ROLE",
                "READ_ALIAS_GROUP",
                "READ_ALIAS_GROUP_MEMBER",
                "READ_INSTANCE_INVITE",
                "READ_MEMBER",
                "UPDATE_COMMUNITY",
                "UPDATE_CHANNEL",
                "UPDATE_MESSAGE",
                "UPDATE_USER",
                "UPDATE_ROLE",
                "UPDATE_ALIAS_GROUP",
                "UPDATE_ALIAS_GROUP_MEMBER",
                "UPDATE_INSTANCE_INVITE",
                "UPDATE_MEMBER",
                "CAPTURE_REPLAY",
                "READ_INSTANCE_SETTINGS",
                "UPDATE_INSTANCE_SETTINGS",
                "READ_INSTANCE_STATS",
                "MANAGE_USER_STORAGE",
                "BAN_USER",
                "KICK_USER",
                "TIMEOUT_USER",
                "UNBAN_USER",
                "PIN_MESSAGE",
                "UNPIN_MESSAGE",
                "DELETE_ANY_MESSAGE",
                "VIEW_BAN_LIST",
                "VIEW_MODERATION_LOGS"
              ]
            }
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "isDefault": {
            "type": "boolean"
          }
        },
        "required": [
          "actions",
          "id",
          "name",
          "createdAt",
          "isDefault"
        ]
      },
      "UserRolesResponseDto": {
        "type": "object",
        "properties": {
          "resourceType": {
            "type": "string",
            "enum": [
              "COMMUNITY",
              "CHANNEL",
              "INSTANCE"
            ],
            "nullable": true
          },
          "userId": {
            "type": "string"
          },
          "resourceId": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RoleDto"
            }
          }
        },
        "required": [
          "resourceType",
          "userId",
          "resourceId",
          "roles"
        ]
      },
      "CommunityRolesResponseDto": {
        "type": "object",
        "properties": {
          "communityId": {
            "type": "string"
          },
          "roles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RoleDto"
            }
          }
        },
        "required": [
          "communityId",
          "roles"
        ]
      },
      "CreateRoleDto": {
        "type": "object",
        "properties": {
          "actions": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "enum": [
                "DELETE_MESSAGE",
                "DELETE_CHANNEL",
                "DELETE_COMMUNITY",
                "DELETE_INVITE",
                "DELETE_USER",
                "DELETE_ROLE",
                "DELETE_ALIAS_GROUP",
                "DELETE_ALIAS_GROUP_MEMBER",
                "DELETE_INSTANCE_INVITE",
                "DELETE_MEMBER",
                "DELETE_REACTION",
                "CREATE_MESSAGE",
                "CREATE_CHANNEL",
                "CREATE_COMMUNITY",
                "CREATE_INVITE",
                "CREATE_USER",
                "CREATE_ROLE",
                "CREATE_ALIAS_GROUP",
                "CREATE_ALIAS_GROUP_MEMBER",
                "CREATE_INSTANCE_INVITE",
                "CREATE_MEMBER",
                "CREATE_REACTION",
                "JOIN_CHANNEL",
                "READ_MESSAGE",
                "READ_CHANNEL",
                "READ_COMMUNITY",
                "READ_ALL_COMMUNITIES",
                "READ_USER",
                "READ_ROLE",
                "READ_ALIAS_GROUP",
                "READ_ALIAS_GROUP_MEMBER",
                "READ_INSTANCE_INVITE",
                "READ_MEMBER",
                "UPDATE_COMMUNITY",
                "UPDATE_CHANNEL",
                "UPDATE_MESSAGE",
                "UPDATE_USER",
                "UPDATE_ROLE",
                "UPDATE_ALIAS_GROUP",
                "UPDATE_ALIAS_GROUP_MEMBER",
                "UPDATE_INSTANCE_INVITE",
                "UPDATE_MEMBER",
                "CAPTURE_REPLAY",
                "READ_INSTANCE_SETTINGS",
                "UPDATE_INSTANCE_SETTINGS",
                "READ_INSTANCE_STATS",
                "MANAGE_USER_STORAGE",
                "BAN_USER",
                "KICK_USER",
                "TIMEOUT_USER",
                "UNBAN_USER",
                "PIN_MESSAGE",
                "UNPIN_MESSAGE",
                "DELETE_ANY_MESSAGE",
                "VIEW_BAN_LIST",
                "VIEW_MODERATION_LOGS"
              ]
            }
          },
          "name": {
            "type": "string",
            "maxLength": 50
          }
        },
        "required": [
          "actions",
          "name"
        ]
      },
      "UpdateRoleDto": {
        "type": "object",
        "properties": {
          "actions": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "enum": [
                "DELETE_MESSAGE",
                "DELETE_CHANNEL",
                "DELETE_COMMUNITY",
                "DELETE_INVITE",
                "DELETE_USER",
                "DELETE_ROLE",
                "DELETE_ALIAS_GROUP",
                "DELETE_ALIAS_GROUP_MEMBER",
                "DELETE_INSTANCE_INVITE",
                "DELETE_MEMBER",
                "DELETE_REACTION",
                "CREATE_MESSAGE",
                "CREATE_CHANNEL",
                "CREATE_COMMUNITY",
                "CREATE_INVITE",
                "CREATE_USER",
                "CREATE_ROLE",
                "CREATE_ALIAS_GROUP",
                "CREATE_ALIAS_GROUP_MEMBER",
                "CREATE_INSTANCE_INVITE",
                "CREATE_MEMBER",
                "CREATE_REACTION",
                "JOIN_CHANNEL",
                "READ_MESSAGE",
                "READ_CHANNEL",
                "READ_COMMUNITY",
                "READ_ALL_COMMUNITIES",
                "READ_USER",
                "READ_ROLE",
                "READ_ALIAS_GROUP",
                "READ_ALIAS_GROUP_MEMBER",
                "READ_INSTANCE_INVITE",
                "READ_MEMBER",
                "UPDATE_COMMUNITY",
                "UPDATE_CHANNEL",
                "UPDATE_MESSAGE",
                "UPDATE_USER",
                "UPDATE_ROLE",
                "UPDATE_ALIAS_GROUP",
                "UPDATE_ALIAS_GROUP_MEMBER",
                "UPDATE_INSTANCE_INVITE",
                "UPDATE_MEMBER",
                "CAPTURE_REPLAY",
                "READ_INSTANCE_SETTINGS",
                "UPDATE_INSTANCE_SETTINGS",
                "READ_INSTANCE_STATS",
                "MANAGE_USER_STORAGE",
                "BAN_USER",
                "KICK_USER",
                "TIMEOUT_USER",
                "UNBAN_USER",
                "PIN_MESSAGE",
                "UNPIN_MESSAGE",
                "DELETE_ANY_MESSAGE",
                "VIEW_BAN_LIST",
                "VIEW_MODERATION_LOGS"
              ]
            }
          },
          "name": {
            "type": "string",
            "maxLength": 50
          }
        }
      },
      "AssignRoleDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "roleId": {
            "type": "string"
          }
        },
        "required": [
          "userId",
          "roleId"
        ]
      },
      "RoleUserDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          }
        },
        "required": [
          "userId",
          "username"
        ]
      },
      "AssignInstanceRoleDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          }
        },
        "required": [
          "userId"
        ]
      },
      "CreateChannelDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "TEXT",
              "VOICE"
            ]
          },
          "isPrivate": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "position": {
            "type": "number"
          },
          "slowmodeSeconds": {
            "type": "number",
            "minimum": 0,
            "maximum": 21600
          },
          "id": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "type",
          "isPrivate",
          "name",
          "communityId",
          "position",
          "slowmodeSeconds",
          "id",
          "createdAt"
        ]
      },
      "ChannelDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "TEXT",
              "VOICE"
            ]
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "position": {
            "type": "number"
          },
          "slowmodeSeconds": {
            "type": "number"
          },
          "isPrivate": {
            "type": "boolean"
          }
        },
        "required": [
          "type",
          "id",
          "name",
          "communityId",
          "createdAt",
          "position",
          "slowmodeSeconds",
          "isPrivate"
        ]
      },
      "UpdateChannelDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "TEXT",
              "VOICE"
            ]
          },
          "isPrivate": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "position": {
            "type": "number"
          },
          "slowmodeSeconds": {
            "type": "number",
            "minimum": 0,
            "maximum": 21600
          },
          "id": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        }
      },
      "MoveChannelDto": {
        "type": "object",
        "properties": {
          "communityId": {
            "type": "string"
          }
        },
        "required": [
          "communityId"
        ]
      },
      "HealthResponseDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "instanceName": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        },
        "required": [
          "status",
          "instanceName",
          "version",
          "timestamp"
        ]
      },
      "CreateCommunityDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "nullable": true,
            "maxLength": 500
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "banner": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "name"
        ]
      },
      "CommunityResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "banner": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "avatar",
          "banner",
          "createdAt"
        ]
      },
      "UpdateCommunityDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "nullable": true,
            "maxLength": 500
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "banner": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CommunityStatsDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "banner": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "memberCount": {
            "type": "number"
          },
          "channelCount": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "avatar",
          "banner",
          "createdAt",
          "memberCount",
          "channelCount"
        ]
      },
      "CommunityStatsListResponseDto": {
        "type": "object",
        "properties": {
          "communities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommunityStatsDto"
            }
          },
          "continuationToken": {
            "type": "string"
          }
        },
        "required": [
          "communities"
        ]
      },
      "CommunityStatsDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "avatar": {
            "type": "string",
            "nullable": true
          },
          "banner": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "memberCount": {
            "type": "number"
          },
          "channelCount": {
            "type": "number"
          },
          "messageCount": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "avatar",
          "banner",
          "createdAt",
          "memberCount",
          "channelCount",
          "messageCount"
        ]
      },
      "CreateMessageSpanDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "PLAINTEXT",
              "USER_MENTION",
              "SPECIAL_MENTION",
              "COMMUNITY_MENTION",
              "ALIAS_MENTION"
            ]
          },
          "text": {
            "type": "string",
            "nullable": true
          },
          "userId": {
            "type": "string",
            "nullable": true
          },
          "specialKind": {
            "type": "string",
            "nullable": true
          },
          "communityId": {
            "type": "string",
            "nullable": true
          },
          "aliasId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "type",
          "text",
          "userId",
          "specialKind",
          "communityId",
          "aliasId"
        ]
      },
      "CreateMessageDto": {
        "type": "object",
        "properties": {
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateMessageSpanDto"
            }
          },
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true,
            "minimum": 0
          },
          "searchText": {
            "type": "string",
            "nullable": true
          },
          "reactions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "emoji": {
                  "type": "string"
                },
                "userIds": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": [
                "emoji",
                "userIds"
              ]
            }
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedByReason": {
            "type": "string",
            "nullable": true
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "spans",
          "id",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "sentAt",
          "editedAt",
          "deletedAt",
          "attachments",
          "pendingAttachments",
          "searchText",
          "reactions",
          "pinned",
          "pinnedAt",
          "pinnedBy",
          "deletedBy",
          "deletedByReason",
          "parentMessageId",
          "replyCount",
          "lastReplyAt"
        ]
      },
      "SpanDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "PLAINTEXT",
              "USER_MENTION",
              "SPECIAL_MENTION",
              "COMMUNITY_MENTION",
              "ALIAS_MENTION"
            ]
          },
          "text": {
            "type": "string",
            "nullable": true
          },
          "userId": {
            "type": "string",
            "nullable": true
          },
          "specialKind": {
            "type": "string",
            "nullable": true
          },
          "communityId": {
            "type": "string",
            "nullable": true
          },
          "aliasId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "type",
          "text",
          "userId",
          "specialKind",
          "communityId",
          "aliasId"
        ]
      },
      "EnrichedAttachment": {
        "type": "object",
        "properties": {
          "fileType": {
            "type": "string",
            "enum": [
              "IMAGE",
              "VIDEO",
              "AUDIO",
              "DOCUMENT",
              "OTHER"
            ]
          },
          "id": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        },
        "required": [
          "fileType",
          "id",
          "filename",
          "mimeType",
          "size"
        ]
      },
      "ReactionDto": {
        "type": "object",
        "properties": {
          "emoji": {
            "type": "string"
          },
          "userIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "emoji",
          "userIds"
        ]
      },
      "EnrichedMessageDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnrichedAttachment"
            }
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true
          },
          "reactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReactionDto"
            }
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "spans",
          "attachments",
          "pendingAttachments",
          "reactions",
          "replyCount",
          "lastReplyAt",
          "pinned",
          "pinnedAt",
          "pinnedBy",
          "sentAt",
          "editedAt",
          "deletedAt"
        ]
      },
      "PaginatedMessagesResponseDto": {
        "type": "object",
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnrichedMessageDto"
            }
          },
          "continuationToken": {
            "type": "string"
          }
        },
        "required": [
          "messages"
        ]
      },
      "AddReactionDto": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string"
          },
          "emoji": {
            "type": "string"
          }
        },
        "required": [
          "messageId",
          "emoji"
        ]
      },
      "MessageDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true
          },
          "reactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReactionDto"
            }
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "searchText": {
            "type": "string",
            "nullable": true
          },
          "deletedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedByReason": {
            "type": "string",
            "nullable": true
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "spans",
          "attachments",
          "pendingAttachments",
          "reactions",
          "replyCount",
          "lastReplyAt",
          "pinned",
          "pinnedAt",
          "pinnedBy",
          "sentAt",
          "editedAt",
          "deletedAt",
          "searchText",
          "deletedBy",
          "deletedByReason",
          "parentMessageId"
        ]
      },
      "RemoveReactionDto": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string"
          },
          "emoji": {
            "type": "string"
          }
        },
        "required": [
          "messageId",
          "emoji"
        ]
      },
      "AddAttachmentDto": {
        "type": "object",
        "properties": {
          "fileId": {
            "type": "string"
          }
        }
      },
      "UpdateMessageDto": {
        "type": "object",
        "properties": {
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateMessageSpanDto"
            }
          },
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true,
            "minimum": 0
          },
          "searchText": {
            "type": "string",
            "nullable": true
          },
          "reactions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "emoji": {
                  "type": "string"
                },
                "userIds": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": [
                "emoji",
                "userIds"
              ]
            }
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedByReason": {
            "type": "string",
            "nullable": true
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          }
        }
      },
      "FileMetadataResponseDto": {
        "type": "object",
        "properties": {
          "fileType": {
            "type": "string",
            "enum": [
              "IMAGE",
              "VIDEO",
              "AUDIO",
              "DOCUMENT",
              "OTHER"
            ]
          },
          "id": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        },
        "required": [
          "fileType",
          "id",
          "filename",
          "mimeType",
          "size"
        ]
      },
      "CreateMembershipDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          }
        },
        "required": [
          "userId",
          "communityId"
        ]
      },
      "CommunityInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "avatar": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "avatar"
        ]
      },
      "MembershipResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserEntity"
          },
          "community": {
            "$ref": "#/components/schemas/CommunityInfoDto"
          },
          "userId": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "joinedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "communityId",
          "joinedAt"
        ]
      },
      "CreateChannelMembershipDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "channelId": {
            "type": "string"
          },
          "addedBy": {
            "type": "string"
          }
        },
        "required": [
          "userId",
          "channelId"
        ]
      },
      "ChannelMembershipResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserEntity"
          },
          "channelId": {
            "type": "string"
          },
          "joinedAt": {
            "format": "date-time",
            "type": "string"
          },
          "addedBy": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "channelId",
          "joinedAt"
        ]
      },
      "NotificationAuthorDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "username",
          "displayName",
          "avatarUrl"
        ]
      },
      "NotificationMessageDto": {
        "type": "object",
        "properties": {
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "spans",
          "id",
          "channelId",
          "directMessageGroupId"
        ]
      },
      "NotificationDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "USER_MENTION",
              "SPECIAL_MENTION",
              "DIRECT_MESSAGE",
              "CHANNEL_MESSAGE",
              "THREAD_REPLY"
            ]
          },
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "messageId": {
            "type": "string",
            "nullable": true
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          },
          "read": {
            "type": "boolean"
          },
          "dismissed": {
            "type": "boolean"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "author": {
            "$ref": "#/components/schemas/NotificationAuthorDto"
          },
          "message": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/NotificationMessageDto"
              }
            ]
          }
        },
        "required": [
          "type",
          "id",
          "userId",
          "messageId",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "parentMessageId",
          "read",
          "dismissed",
          "createdAt"
        ]
      },
      "NotificationListResponseDto": {
        "type": "object",
        "properties": {
          "notifications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationDto"
            }
          },
          "total": {
            "type": "number"
          },
          "unreadCount": {
            "type": "number"
          }
        },
        "required": [
          "notifications",
          "total",
          "unreadCount"
        ]
      },
      "UnreadCountResponseDto": {
        "type": "object",
        "properties": {
          "count": {
            "type": "number"
          }
        },
        "required": [
          "count"
        ]
      },
      "UserNotificationSettingsDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "desktopEnabled": {
            "type": "boolean"
          },
          "playSound": {
            "type": "boolean"
          },
          "soundType": {
            "type": "string"
          },
          "doNotDisturb": {
            "type": "boolean"
          },
          "dndStartTime": {
            "type": "string",
            "nullable": true
          },
          "dndEndTime": {
            "type": "string",
            "nullable": true
          },
          "defaultChannelLevel": {
            "type": "string"
          },
          "dmNotifications": {
            "type": "boolean"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "desktopEnabled",
          "playSound",
          "soundType",
          "doNotDisturb",
          "dndStartTime",
          "dndEndTime",
          "defaultChannelLevel",
          "dmNotifications",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateNotificationSettingsDto": {
        "type": "object",
        "properties": {
          "desktopEnabled": {
            "type": "boolean"
          },
          "playSound": {
            "type": "boolean"
          },
          "soundType": {
            "type": "string",
            "enum": [
              "default",
              "mention",
              "dm"
            ]
          },
          "doNotDisturb": {
            "type": "boolean"
          },
          "dndStartTime": {
            "type": "string",
            "pattern": "/^([01]\\d|2[0-3]):([0-5]\\d)$/"
          },
          "dndEndTime": {
            "type": "string",
            "pattern": "/^([01]\\d|2[0-3]):([0-5]\\d)$/"
          },
          "defaultChannelLevel": {
            "type": "string",
            "enum": [
              "all",
              "mentions",
              "none"
            ]
          },
          "dmNotifications": {
            "type": "boolean"
          }
        }
      },
      "ChannelNotificationOverrideDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "channelId": {
            "type": "string"
          },
          "level": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "channelId",
          "level",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateChannelOverrideDto": {
        "type": "object",
        "properties": {
          "level": {
            "type": "string",
            "enum": [
              "all",
              "mentions",
              "none"
            ]
          }
        },
        "required": [
          "level"
        ]
      },
      "SendTestNotificationDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "USER_MENTION",
              "SPECIAL_MENTION",
              "DIRECT_MESSAGE",
              "CHANNEL_MESSAGE",
              "THREAD_REPLY"
            ]
          },
          "customMessage": {
            "type": "string"
          }
        },
        "required": [
          "type"
        ]
      },
      "DebugNotificationResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "notification": {
            "$ref": "#/components/schemas/NotificationDto"
          },
          "message": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "notification",
          "message"
        ]
      },
      "DebugPushSubscriptionDto": {
        "type": "object",
        "properties": {
          "endpoint": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "endpoint",
          "createdAt"
        ]
      },
      "DebugSubscriptionsResponseDto": {
        "type": "object",
        "properties": {
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DebugPushSubscriptionDto"
            }
          },
          "count": {
            "type": "number"
          },
          "pushEnabled": {
            "type": "boolean"
          }
        },
        "required": [
          "subscriptions",
          "count",
          "pushEnabled"
        ]
      },
      "ClearNotificationDataResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "notificationsDeleted": {
            "type": "number"
          },
          "settingsDeleted": {
            "type": "number"
          },
          "overridesDeleted": {
            "type": "number"
          },
          "message": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "notificationsDeleted",
          "settingsDeleted",
          "overridesDeleted",
          "message"
        ]
      },
      "VapidPublicKeyResponseDto": {
        "type": "object",
        "properties": {
          "publicKey": {
            "type": "string",
            "nullable": true
          },
          "enabled": {
            "type": "boolean"
          }
        },
        "required": [
          "publicKey",
          "enabled"
        ]
      },
      "PushSubscriptionKeys": {
        "type": "object",
        "properties": {
          "p256dh": {
            "type": "string"
          },
          "auth": {
            "type": "string"
          }
        },
        "required": [
          "p256dh",
          "auth"
        ]
      },
      "SubscribePushDto": {
        "type": "object",
        "properties": {
          "endpoint": {
            "type": "string"
          },
          "keys": {
            "$ref": "#/components/schemas/PushSubscriptionKeys"
          },
          "userAgent": {
            "type": "string"
          }
        },
        "required": [
          "endpoint",
          "keys"
        ]
      },
      "SuccessMessageDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "UnsubscribePushDto": {
        "type": "object",
        "properties": {
          "endpoint": {
            "type": "string"
          }
        },
        "required": [
          "endpoint"
        ]
      },
      "PushStatusResponseDto": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "subscriptionCount": {
            "type": "number"
          }
        },
        "required": [
          "enabled",
          "subscriptionCount"
        ]
      },
      "TestPushResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "sent": {
            "type": "number"
          },
          "failed": {
            "type": "number"
          },
          "message": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "sent",
          "failed",
          "message"
        ]
      },
      "UnbanUserDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          }
        }
      },
      "CommunityBanDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "moderatorId": {
            "type": "string"
          },
          "reason": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "active": {
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "communityId",
          "userId",
          "moderatorId",
          "reason",
          "createdAt",
          "expiresAt",
          "active"
        ]
      },
      "KickUserDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          }
        }
      },
      "TimeoutUserDto": {
        "type": "object",
        "properties": {
          "durationSeconds": {
            "type": "number",
            "minimum": 60,
            "maximum": 2419200
          },
          "reason": {
            "type": "string"
          }
        },
        "required": [
          "durationSeconds"
        ]
      },
      "RemoveTimeoutDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          }
        }
      },
      "CommunityTimeoutDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "moderatorId": {
            "type": "string"
          },
          "reason": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "communityId",
          "userId",
          "moderatorId",
          "reason",
          "createdAt",
          "expiresAt"
        ]
      },
      "TimeoutStatusResponseDto": {
        "type": "object",
        "properties": {
          "isTimedOut": {
            "type": "boolean"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "isTimedOut"
        ]
      },
      "PinMessageDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          }
        }
      },
      "UnpinMessageDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          }
        }
      },
      "PinnedMessageAuthorDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "username",
          "displayName",
          "avatarUrl"
        ]
      },
      "PinnedMessageAttachmentDto": {
        "type": "object",
        "properties": {
          "fileType": {
            "type": "string",
            "enum": [
              "IMAGE",
              "VIDEO",
              "AUDIO",
              "DOCUMENT",
              "OTHER"
            ]
          },
          "id": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        },
        "required": [
          "fileType",
          "id",
          "filename",
          "mimeType",
          "size"
        ]
      },
      "PinnedMessageDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "reactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReactionDto"
            }
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "searchText": {
            "type": "string",
            "nullable": true
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true
          },
          "deletedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedByReason": {
            "type": "string",
            "nullable": true
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          },
          "author": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/PinnedMessageAuthorDto"
              }
            ]
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PinnedMessageAttachmentDto"
            }
          }
        },
        "required": [
          "id",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "spans",
          "reactions",
          "sentAt",
          "editedAt",
          "deletedAt",
          "pinned",
          "pinnedAt",
          "pinnedBy",
          "replyCount",
          "lastReplyAt",
          "searchText",
          "pendingAttachments",
          "deletedBy",
          "deletedByReason",
          "parentMessageId",
          "author",
          "attachments"
        ]
      },
      "DeleteMessageAsModDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string"
          }
        }
      },
      "ModerationLogDto": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "enum": [
              "BAN_USER",
              "UNBAN_USER",
              "KICK_USER",
              "TIMEOUT_USER",
              "REMOVE_TIMEOUT",
              "DELETE_MESSAGE",
              "PIN_MESSAGE",
              "UNPIN_MESSAGE"
            ]
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          },
          "id": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "moderatorId": {
            "type": "string"
          },
          "targetUserId": {
            "type": "string",
            "nullable": true
          },
          "reason": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "action",
          "metadata",
          "id",
          "communityId",
          "moderatorId",
          "targetUserId",
          "reason",
          "createdAt"
        ]
      },
      "ModerationLogsResponseDto": {
        "type": "object",
        "properties": {
          "logs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModerationLogDto"
            }
          },
          "total": {
            "type": "number"
          }
        },
        "required": [
          "logs",
          "total"
        ]
      },
      "MarkAsReadDto": {
        "type": "object",
        "properties": {
          "lastReadMessageId": {
            "type": "string"
          },
          "channelId": {
            "type": "string"
          },
          "directMessageGroupId": {
            "type": "string"
          }
        },
        "required": [
          "lastReadMessageId"
        ]
      },
      "ReadReceiptDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "lastReadMessageId": {
            "type": "string"
          },
          "lastReadAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "channelId",
          "directMessageGroupId",
          "lastReadMessageId",
          "lastReadAt"
        ]
      },
      "UnreadCountDto": {
        "type": "object",
        "properties": {
          "channelId": {
            "type": "string"
          },
          "directMessageGroupId": {
            "type": "string"
          },
          "unreadCount": {
            "type": "number"
          },
          "lastReadMessageId": {
            "type": "string"
          },
          "lastReadAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "unreadCount"
        ]
      },
      "LastReadResponseDto": {
        "type": "object",
        "properties": {
          "lastReadMessageId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "lastReadMessageId"
        ]
      },
      "MessageReaderDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "readAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "userId",
          "username",
          "displayName",
          "avatarUrl",
          "readAt"
        ]
      },
      "UserPresenceResponseDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "isOnline": {
            "type": "boolean"
          }
        },
        "required": [
          "userId",
          "isOnline"
        ]
      },
      "BulkPresenceResponseDto": {
        "type": "object",
        "properties": {
          "presence": {
            "type": "object",
            "additionalProperties": {
              "type": "boolean"
            }
          }
        },
        "required": [
          "presence"
        ]
      },
      "CreateTokenDto": {
        "type": "object",
        "properties": {
          "identity": {
            "type": "string"
          },
          "roomId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "ttl": {
            "type": "number",
            "minimum": 1
          }
        },
        "required": [
          "identity",
          "roomId"
        ]
      },
      "TokenResponseDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "identity": {
            "type": "string"
          },
          "roomId": {
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "token",
          "identity",
          "roomId"
        ]
      },
      "ConnectionInfoResponseDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          }
        }
      },
      "LivekitHealthResponseDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "configured": {
            "type": "boolean"
          }
        },
        "required": [
          "status",
          "configured"
        ]
      },
      "StartReplayBufferDto": {
        "type": "object",
        "properties": {
          "channelId": {
            "type": "string"
          },
          "roomName": {
            "type": "string"
          },
          "videoTrackId": {
            "type": "string"
          },
          "audioTrackId": {
            "type": "string"
          },
          "participantIdentity": {
            "type": "string",
            "description": "Participant identity (usually the user ID)\nUsed to query track resolution for matching egress encoding to source quality"
          }
        },
        "required": [
          "channelId",
          "roomName",
          "videoTrackId"
        ]
      },
      "StartReplayResponseDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string"
          },
          "egressId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "sessionId",
          "egressId",
          "status"
        ]
      },
      "StopReplayResponseDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string"
          },
          "egressId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "sessionId",
          "egressId",
          "status"
        ]
      },
      "SessionInfoResponseDto": {
        "type": "object",
        "properties": {
          "hasActiveSession": {
            "type": "boolean",
            "description": "Whether there's an active replay buffer session"
          },
          "sessionId": {
            "type": "string",
            "description": "Session ID (if active)"
          },
          "totalSegments": {
            "type": "number",
            "description": "Total number of segments available"
          },
          "totalDurationSeconds": {
            "type": "number",
            "description": "Total buffer duration in seconds"
          },
          "bufferStartTime": {
            "format": "date-time",
            "type": "string",
            "description": "Oldest segment timestamp (when buffer started)"
          },
          "bufferEndTime": {
            "format": "date-time",
            "type": "string",
            "description": "Most recent segment timestamp"
          }
        },
        "required": [
          "hasActiveSession"
        ]
      },
      "CaptureReplayDto": {
        "type": "object",
        "properties": {
          "durationMinutes": {
            "type": "number",
            "description": "Duration preset in minutes (optional if using custom range)\nUser selects from: 1, 2, 5, or 10 minutes",
            "enum": [
              1,
              2,
              5,
              10
            ]
          },
          "destination": {
            "type": "string",
            "description": "Where to save/post the clip\n- 'library': Save to user's clip library only\n- 'dm': Save to library and send to specified DM group\n- 'channel': Save to library and post to specified channel",
            "enum": [
              "library",
              "dm",
              "channel"
            ]
          },
          "startSeconds": {
            "type": "number",
            "description": "Custom clip start time in seconds from buffer start\nRequired if using custom range (no durationMinutes)",
            "minimum": 0
          },
          "endSeconds": {
            "type": "number",
            "description": "Custom clip end time in seconds from buffer start\nRequired if using custom range (no durationMinutes)",
            "minimum": 1
          },
          "targetChannelId": {
            "type": "string",
            "description": "Required if destination is 'channel'\nChannel ID to post the clip to"
          },
          "targetDirectMessageGroupId": {
            "type": "string",
            "description": "Required if destination is 'dm'\nDirect message group ID to send clip to"
          }
        },
        "required": [
          "destination"
        ]
      },
      "CaptureReplayResponseDto": {
        "type": "object",
        "properties": {
          "clipId": {
            "type": "string",
            "description": "ID of the created ReplayClip record"
          },
          "fileId": {
            "type": "string",
            "description": "ID of the created File record"
          },
          "durationSeconds": {
            "type": "number",
            "description": "Actual duration of the clip in seconds"
          },
          "requestedDurationSeconds": {
            "type": "number",
            "description": "Requested duration in seconds (for comparison)"
          },
          "sizeBytes": {
            "type": "number",
            "description": "File size in bytes"
          },
          "downloadUrl": {
            "type": "string",
            "description": "Download URL for the clip"
          },
          "messageId": {
            "type": "string",
            "description": "Optional: Message ID if auto-posted to channel/DM"
          }
        },
        "required": [
          "clipId",
          "fileId",
          "durationSeconds",
          "requestedDurationSeconds",
          "sizeBytes",
          "downloadUrl"
        ]
      },
      "ClipResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "fileId": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "durationSeconds": {
            "type": "number"
          },
          "isPublic": {
            "type": "boolean"
          },
          "capturedAt": {
            "format": "date-time",
            "type": "string"
          },
          "downloadUrl": {
            "type": "string"
          },
          "sizeBytes": {
            "type": "number"
          },
          "filename": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "fileId",
          "channelId",
          "durationSeconds",
          "isPublic",
          "capturedAt",
          "downloadUrl",
          "sizeBytes",
          "filename"
        ]
      },
      "UpdateClipDto": {
        "type": "object",
        "properties": {
          "isPublic": {
            "type": "boolean",
            "description": "Whether the clip should be publicly visible on user's profile"
          }
        }
      },
      "ShareClipDto": {
        "type": "object",
        "properties": {
          "destination": {
            "type": "string",
            "description": "Where to share the clip\n- 'channel': Post to specified channel\n- 'dm': Send to specified DM group",
            "enum": [
              "channel",
              "dm"
            ]
          },
          "targetChannelId": {
            "type": "string",
            "description": "Required if destination is 'channel'\nChannel ID to post the clip to"
          },
          "targetDirectMessageGroupId": {
            "type": "string",
            "description": "Required if destination is 'dm'\nDirect message group ID to send clip to"
          }
        },
        "required": [
          "destination"
        ]
      },
      "ShareClipResponseDto": {
        "type": "object",
        "properties": {
          "destination": {
            "type": "string",
            "enum": [
              "channel",
              "dm"
            ]
          },
          "messageId": {
            "type": "string"
          },
          "clipId": {
            "type": "string"
          }
        },
        "required": [
          "destination",
          "messageId",
          "clipId"
        ]
      },
      "LiveKitRoomInfo": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "sid": {
            "type": "string"
          },
          "numParticipants": {
            "type": "number"
          },
          "creationTime": {
            "type": "number"
          }
        },
        "required": [
          "name"
        ]
      },
      "LiveKitParticipantInfo": {
        "type": "object",
        "properties": {
          "identity": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "sid": {
            "type": "string"
          },
          "metadata": {
            "type": "string"
          },
          "joinedAt": {
            "type": "number"
          }
        },
        "required": [
          "identity"
        ]
      },
      "LiveKitEgressInfo": {
        "type": "object",
        "properties": {
          "egressId": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "EGRESS_STARTING",
              "EGRESS_ACTIVE",
              "EGRESS_ENDING",
              "EGRESS_COMPLETE",
              "EGRESS_FAILED",
              "EGRESS_ABORTED"
            ]
          },
          "error": {
            "type": "string"
          },
          "startedAt": {
            "type": "number"
          },
          "endedAt": {
            "type": "number"
          },
          "updatedAt": {
            "type": "number"
          }
        },
        "required": [
          "egressId",
          "status"
        ]
      },
      "LiveKitWebhookDto": {
        "type": "object",
        "properties": {
          "event": {
            "type": "string",
            "enum": [
              "room_started",
              "room_finished",
              "participant_joined",
              "participant_left",
              "egress_started",
              "egress_updated",
              "egress_ended"
            ]
          },
          "id": {
            "type": "string"
          },
          "createdAt": {
            "type": "number"
          },
          "room": {
            "$ref": "#/components/schemas/LiveKitRoomInfo"
          },
          "participant": {
            "$ref": "#/components/schemas/LiveKitParticipantInfo"
          },
          "egressInfo": {
            "$ref": "#/components/schemas/LiveKitEgressInfo"
          }
        },
        "required": [
          "event"
        ]
      },
      "VoicePresenceUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "avatarUrl": {
            "type": "string"
          },
          "joinedAt": {
            "format": "date-time",
            "type": "string"
          },
          "isDeafened": {
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "username",
          "joinedAt",
          "isDeafened"
        ]
      },
      "ChannelVoicePresenceResponseDto": {
        "type": "object",
        "properties": {
          "channelId": {
            "type": "string"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VoicePresenceUserDto"
            }
          },
          "count": {
            "type": "number"
          }
        },
        "required": [
          "channelId",
          "users",
          "count"
        ]
      },
      "RefreshPresenceResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "channelId": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "message",
          "channelId"
        ]
      },
      "UserVoiceChannelsResponseDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "voiceChannels": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "userId",
          "voiceChannels"
        ]
      },
      "DmVoicePresenceResponseDto": {
        "type": "object",
        "properties": {
          "dmGroupId": {
            "type": "string"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VoicePresenceUserDto"
            }
          },
          "count": {
            "type": "number"
          }
        },
        "required": [
          "dmGroupId",
          "users",
          "count"
        ]
      },
      "RefreshDmPresenceResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "dmGroupId": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "message",
          "dmGroupId"
        ]
      },
      "OnboardingStatusDto": {
        "type": "object",
        "properties": {
          "needsSetup": {
            "type": "boolean"
          },
          "hasUsers": {
            "type": "boolean"
          },
          "setupToken": {
            "type": "string"
          }
        },
        "required": [
          "needsSetup",
          "hasUsers"
        ]
      },
      "SetupInstanceDto": {
        "type": "object",
        "properties": {
          "adminUsername": {
            "type": "string",
            "minLength": 3,
            "maxLength": 32
          },
          "adminPassword": {
            "type": "string",
            "minLength": 8
          },
          "adminEmail": {
            "type": "string",
            "format": "email"
          },
          "instanceName": {
            "type": "string",
            "maxLength": 100
          },
          "instanceDescription": {
            "type": "string",
            "maxLength": 500
          },
          "defaultCommunityName": {
            "type": "string",
            "maxLength": 100
          },
          "createDefaultCommunity": {
            "type": "boolean"
          },
          "setupToken": {
            "type": "string"
          }
        },
        "required": [
          "adminUsername",
          "adminPassword",
          "instanceName",
          "setupToken"
        ]
      },
      "SetupResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "adminUserId": {
            "type": "string"
          },
          "defaultCommunityId": {
            "type": "string"
          }
        },
        "required": [
          "success",
          "message",
          "adminUserId"
        ]
      },
      "DmGroupMemberUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "username"
        ]
      },
      "DmGroupMemberDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "joinedAt": {
            "format": "date-time",
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/DmGroupMemberUserDto"
          }
        },
        "required": [
          "id",
          "userId",
          "joinedAt",
          "user"
        ]
      },
      "DmGroupLastMessageDto": {
        "type": "object",
        "properties": {
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "id": {
            "type": "string"
          },
          "authorId": {
            "type": "string"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "spans",
          "id",
          "authorId",
          "sentAt"
        ]
      },
      "DmGroupResponseDto": {
        "type": "object",
        "properties": {
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DmGroupMemberDto"
            }
          },
          "lastMessage": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/DmGroupLastMessageDto"
              }
            ]
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "isGroup": {
            "type": "boolean"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "members",
          "id",
          "isGroup",
          "createdAt"
        ]
      },
      "CreateDmGroupDto": {
        "type": "object",
        "properties": {
          "userIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string"
          },
          "isGroup": {
            "type": "boolean"
          }
        },
        "required": [
          "userIds"
        ]
      },
      "AddMembersDto": {
        "type": "object",
        "properties": {
          "userIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "userIds"
        ]
      },
      "CreateFileUploadDto": {
        "type": "object",
        "properties": {
          "resourceType": {
            "type": "string",
            "enum": [
              "USER_AVATAR",
              "USER_BANNER",
              "COMMUNITY_BANNER",
              "COMMUNITY_AVATAR",
              "MESSAGE_ATTACHMENT",
              "CUSTOM_EMOJI",
              "REPLAY_CLIP"
            ]
          },
          "resourceId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "FileUploadResponseDto": {
        "type": "object",
        "properties": {
          "fileType": {
            "type": "string",
            "enum": [
              "IMAGE",
              "VIDEO",
              "AUDIO",
              "DOCUMENT",
              "OTHER"
            ]
          },
          "resourceType": {
            "type": "string",
            "enum": [
              "USER_AVATAR",
              "USER_BANNER",
              "COMMUNITY_BANNER",
              "COMMUNITY_AVATAR",
              "MESSAGE_ATTACHMENT",
              "CUSTOM_EMOJI",
              "REPLAY_CLIP"
            ]
          },
          "storageType": {
            "type": "string",
            "enum": [
              "LOCAL",
              "S3",
              "AZURE_BLOB"
            ]
          },
          "id": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          },
          "checksum": {
            "type": "string"
          },
          "uploadedById": {
            "type": "string",
            "nullable": true
          },
          "uploadedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "resourceId": {
            "type": "string",
            "nullable": true
          },
          "storagePath": {
            "type": "string"
          }
        },
        "required": [
          "fileType",
          "resourceType",
          "storageType",
          "id",
          "filename",
          "mimeType",
          "size",
          "checksum",
          "uploadedById",
          "uploadedAt",
          "deletedAt",
          "resourceId",
          "storagePath"
        ]
      },
      "UserStorageStatsDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "usedBytes": {
            "type": "number"
          },
          "quotaBytes": {
            "type": "number"
          },
          "percentUsed": {
            "type": "number"
          },
          "fileCount": {
            "type": "number"
          }
        },
        "required": [
          "userId",
          "username",
          "usedBytes",
          "quotaBytes",
          "percentUsed",
          "fileCount"
        ]
      },
      "StorageDistributionDto": {
        "type": "object",
        "properties": {
          "under25Percent": {
            "type": "number"
          },
          "under50Percent": {
            "type": "number"
          },
          "under75Percent": {
            "type": "number"
          },
          "under90Percent": {
            "type": "number"
          },
          "over90Percent": {
            "type": "number"
          }
        },
        "required": [
          "under25Percent",
          "under50Percent",
          "under75Percent",
          "under90Percent",
          "over90Percent"
        ]
      },
      "StorageByTypeDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "bytes": {
            "type": "number"
          },
          "count": {
            "type": "number"
          }
        },
        "required": [
          "type",
          "bytes",
          "count"
        ]
      },
      "ServerStatsDto": {
        "type": "object",
        "properties": {
          "memoryTotalBytes": {
            "type": "number"
          },
          "memoryUsedBytes": {
            "type": "number"
          },
          "memoryFreeBytes": {
            "type": "number"
          },
          "memoryUsedPercent": {
            "type": "number"
          },
          "cpuCores": {
            "type": "number"
          },
          "cpuModel": {
            "type": "string"
          },
          "loadAverage": {
            "type": "array",
            "items": {
              "type": "number"
            }
          },
          "diskTotalBytes": {
            "type": "number"
          },
          "diskUsedBytes": {
            "type": "number"
          },
          "diskFreeBytes": {
            "type": "number"
          },
          "diskUsedPercent": {
            "type": "number"
          },
          "platform": {
            "type": "string"
          },
          "hostname": {
            "type": "string"
          },
          "uptime": {
            "type": "number"
          }
        },
        "required": [
          "memoryTotalBytes",
          "memoryUsedBytes",
          "memoryFreeBytes",
          "memoryUsedPercent",
          "cpuCores",
          "cpuModel",
          "loadAverage",
          "diskTotalBytes",
          "diskUsedBytes",
          "diskFreeBytes",
          "diskUsedPercent",
          "platform",
          "hostname",
          "uptime"
        ]
      },
      "InstanceStorageStatsDto": {
        "type": "object",
        "properties": {
          "totalStorageUsedBytes": {
            "type": "number"
          },
          "totalFileCount": {
            "type": "number"
          },
          "totalUserCount": {
            "type": "number"
          },
          "averageStoragePerUserBytes": {
            "type": "number"
          },
          "userStorageDistribution": {
            "$ref": "#/components/schemas/StorageDistributionDto"
          },
          "storageByType": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StorageByTypeDto"
            }
          },
          "defaultQuotaBytes": {
            "type": "number"
          },
          "maxFileSizeBytes": {
            "type": "number"
          },
          "usersApproachingQuota": {
            "type": "number"
          },
          "usersOverQuota": {
            "type": "number"
          },
          "server": {
            "$ref": "#/components/schemas/ServerStatsDto"
          }
        },
        "required": [
          "totalStorageUsedBytes",
          "totalFileCount",
          "totalUserCount",
          "averageStoragePerUserBytes",
          "userStorageDistribution",
          "storageByType",
          "defaultQuotaBytes",
          "maxFileSizeBytes",
          "usersApproachingQuota",
          "usersOverQuota",
          "server"
        ]
      },
      "UserStorageListResponseDto": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserStorageStatsDto"
            }
          },
          "total": {
            "type": "number"
          }
        },
        "required": [
          "users",
          "total"
        ]
      },
      "UpdateUserQuotaDto": {
        "type": "object",
        "properties": {
          "quotaBytes": {
            "type": "number",
            "minimum": 0
          }
        },
        "required": [
          "quotaBytes"
        ]
      },
      "UpdateStorageSettingsDto": {
        "type": "object",
        "properties": {
          "defaultStorageQuotaBytes": {
            "type": "number",
            "minimum": 1073741824
          },
          "maxFileSizeBytes": {
            "type": "number",
            "minimum": 1048576,
            "maximum": 1073741824
          }
        }
      },
      "PublicSettingsResponseDto": {
        "type": "object",
        "properties": {
          "registrationMode": {
            "type": "string",
            "enum": [
              "OPEN",
              "INVITE_ONLY",
              "CLOSED"
            ]
          }
        },
        "required": [
          "registrationMode"
        ]
      },
      "InstanceSettingsResponseDto": {
        "type": "object",
        "properties": {
          "registrationMode": {
            "type": "string",
            "enum": [
              "OPEN",
              "INVITE_ONLY",
              "CLOSED"
            ]
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "defaultStorageQuotaBytes": {
            "format": "int64",
            "type": "integer"
          },
          "maxFileSizeBytes": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "registrationMode",
          "id",
          "name",
          "description",
          "createdAt",
          "updatedAt",
          "defaultStorageQuotaBytes",
          "maxFileSizeBytes"
        ]
      },
      "UpdateInstanceSettingsDto": {
        "type": "object",
        "properties": {
          "registrationMode": {
            "type": "string",
            "enum": [
              "OPEN",
              "INVITE_ONLY",
              "CLOSED"
            ]
          },
          "name": {
            "type": "string",
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "maxLength": 500
          },
          "defaultStorageQuotaBytes": {
            "type": "number",
            "description": "Default storage quota for new users in bytes\nMinimum: 0 (no storage allowed)\nExample: 53687091200 = 50GB",
            "minimum": 0
          },
          "maxFileSizeBytes": {
            "type": "number",
            "description": "Maximum file size allowed for uploads in bytes\nMinimum: 0 (no uploads allowed)\nExample: 524288000 = 500MB",
            "minimum": 0
          }
        }
      },
      "InstanceStatsResponseDto": {
        "type": "object",
        "properties": {
          "totalUsers": {
            "type": "number"
          },
          "totalCommunities": {
            "type": "number"
          },
          "totalChannels": {
            "type": "number"
          },
          "totalMessages": {
            "type": "number"
          },
          "activeInvites": {
            "type": "number"
          },
          "bannedUsers": {
            "type": "number"
          }
        },
        "required": [
          "totalUsers",
          "totalCommunities",
          "totalChannels",
          "totalMessages",
          "activeInvites",
          "bannedUsers"
        ]
      },
      "AppearanceSettingsResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "themeMode": {
            "type": "string"
          },
          "accentColor": {
            "type": "string"
          },
          "intensity": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "themeMode",
          "accentColor",
          "intensity",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateAppearanceSettingsDto": {
        "type": "object",
        "properties": {
          "themeMode": {
            "type": "string",
            "enum": [
              "dark",
              "light"
            ]
          },
          "accentColor": {
            "type": "string",
            "enum": [
              "teal",
              "blue",
              "indigo",
              "purple",
              "rose",
              "red",
              "orange",
              "amber",
              "lime",
              "emerald",
              "cyan",
              "slate"
            ]
          },
          "intensity": {
            "type": "string",
            "enum": [
              "minimal",
              "balanced",
              "vibrant"
            ]
          }
        }
      },
      "FriendshipWithUsersDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "PENDING",
              "ACCEPTED",
              "BLOCKED"
            ]
          },
          "id": {
            "type": "string"
          },
          "userAId": {
            "type": "string"
          },
          "userBId": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "userA": {
            "$ref": "#/components/schemas/UserEntity"
          },
          "userB": {
            "$ref": "#/components/schemas/UserEntity"
          }
        },
        "required": [
          "status",
          "id",
          "userAId",
          "userBId",
          "createdAt",
          "userA",
          "userB"
        ]
      },
      "PendingRequestsDto": {
        "type": "object",
        "properties": {
          "sent": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FriendshipWithUsersDto"
            }
          },
          "received": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FriendshipWithUsersDto"
            }
          }
        },
        "required": [
          "sent",
          "received"
        ]
      },
      "FriendshipStatusDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "nullable": true,
            "enum": [
              "PENDING",
              "ACCEPTED",
              "BLOCKED"
            ]
          },
          "direction": {
            "type": "string",
            "enum": [
              "sent",
              "received"
            ],
            "nullable": true
          },
          "friendshipId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "status",
          "direction",
          "friendshipId"
        ]
      },
      "FriendshipDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "PENDING",
              "ACCEPTED",
              "BLOCKED"
            ]
          },
          "id": {
            "type": "string"
          },
          "userAId": {
            "type": "string"
          },
          "userBId": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "status",
          "id",
          "userAId",
          "userBId",
          "createdAt"
        ]
      },
      "ThreadReplyDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true
          },
          "reactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReactionDto"
            }
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          },
          "searchText": {
            "type": "string",
            "nullable": true
          },
          "deletedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedByReason": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "spans",
          "attachments",
          "pendingAttachments",
          "reactions",
          "sentAt",
          "editedAt",
          "deletedAt",
          "pinned",
          "pinnedAt",
          "pinnedBy",
          "replyCount",
          "lastReplyAt",
          "parentMessageId",
          "searchText",
          "deletedBy",
          "deletedByReason"
        ]
      },
      "FileMetadataEntryDto": {
        "type": "object",
        "properties": {
          "filename": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        },
        "required": [
          "filename",
          "mimeType",
          "size"
        ]
      },
      "EnrichedThreadReplyDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "channelId": {
            "type": "string",
            "nullable": true
          },
          "directMessageGroupId": {
            "type": "string",
            "nullable": true
          },
          "authorId": {
            "type": "string"
          },
          "spans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SpanDto"
            }
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnrichedAttachment"
            }
          },
          "pendingAttachments": {
            "type": "number",
            "nullable": true
          },
          "reactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReactionDto"
            }
          },
          "sentAt": {
            "format": "date-time",
            "type": "string"
          },
          "editedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinned": {
            "type": "boolean"
          },
          "pinnedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "pinnedBy": {
            "type": "string",
            "nullable": true
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "parentMessageId": {
            "type": "string",
            "nullable": true
          },
          "searchText": {
            "type": "string",
            "nullable": true
          },
          "deletedBy": {
            "type": "string",
            "nullable": true
          },
          "deletedByReason": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "channelId",
          "directMessageGroupId",
          "authorId",
          "spans",
          "attachments",
          "pendingAttachments",
          "reactions",
          "sentAt",
          "editedAt",
          "deletedAt",
          "pinned",
          "pinnedAt",
          "pinnedBy",
          "replyCount",
          "lastReplyAt",
          "parentMessageId",
          "searchText",
          "deletedBy",
          "deletedByReason"
        ]
      },
      "ThreadRepliesResponseDto": {
        "type": "object",
        "properties": {
          "fileMetadata": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/FileMetadataEntryDto"
            }
          },
          "replies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnrichedThreadReplyDto"
            }
          },
          "continuationToken": {
            "type": "string"
          }
        },
        "required": [
          "replies"
        ]
      },
      "ThreadMetadataDto": {
        "type": "object",
        "properties": {
          "parentMessageId": {
            "type": "string"
          },
          "replyCount": {
            "type": "number"
          },
          "lastReplyAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "isSubscribed": {
            "type": "boolean"
          }
        },
        "required": [
          "parentMessageId",
          "replyCount",
          "lastReplyAt",
          "isSubscribed"
        ]
      },
      "AliasGroupSummaryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "memberCount": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "name",
          "communityId",
          "memberCount"
        ]
      },
      "CreateAliasGroupDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 50,
            "pattern": "/^[a-zA-Z0-9_-]+$/"
          },
          "memberIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "name"
        ]
      },
      "AliasGroupMemberDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "id",
          "username",
          "displayName",
          "avatarUrl"
        ]
      },
      "AliasGroupWithMembersDto": {
        "type": "object",
        "properties": {
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AliasGroupMemberDto"
            }
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "communityId": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "memberCount": {
            "type": "number"
          }
        },
        "required": [
          "members",
          "id",
          "name",
          "communityId",
          "createdAt",
          "memberCount"
        ]
      },
      "UpdateAliasGroupDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 50,
            "pattern": "/^[a-zA-Z0-9_-]+$/"
          }
        },
        "required": [
          "name"
        ]
      },
      "AddMemberDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          }
        },
        "required": [
          "userId"
        ]
      },
      "UpdateMembersDto": {
        "type": "object",
        "properties": {
          "memberIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "memberIds"
        ]
      }
    }
  }
}